(this.webpackJsonpmain_project=this.webpackJsonpmain_project||[]).push([[0],{29:function(e,t,a){e.exports=a(50)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),i=(a(34),a(6)),l=(a(35),a(36),function(e){var t=e.user;return r.a.createElement("div",{className:"list"},r.a.createElement("label",{className:"name"},t.username))}),s=(a(37),a(9)),u=a(10),m="https://it-blog-posts.herokuapp.com/api/",p=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"getPosts",value:function(){return fetch("".concat(m).concat("posts")).then((function(e){if(e.ok&&200===e.status)return e.json()})).catch((function(e){console.log("Error",e)}))}},{key:"addPost",value:function(e){return fetch("".concat(m).concat("posts"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}}]),e}(),f=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"getUsers",value:function(){return fetch("".concat(m).concat("people")).then((function(e){return e.json()}))}},{key:"loginHandler",value:function(e){return fetch("".concat(m).concat("people","/login"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"registerHandler",value:function(e){return fetch("".concat(m).concat("people"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"getById",value:function(e){return fetch("".concat(m).concat("people","/").concat(e))}},{key:"getPostsById",value:function(e){return fetch("".concat(m).concat("people","/").concat(e,"/posts"))}}]),e}(),d={posts:new p,users:new f},b=d.posts.getPosts(),g=d.users.getUsers(),h=d.users.loginHandler,E=d.users.registerHandler,O=d.posts.addPost,v=d.users.getById,y=d.users.getPostsById,j=a(52),w=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),s=Object(i.a)(c,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){g.then((function(e){o(e),m(!1)})).catch((function(e){console.log("Error",e)}))}),[]),r.a.createElement("div",{className:"container_item-left",id:"content"},u&&r.a.createElement(j.a,{animation:"border",variant:"primary"}),a.map((function(e){return r.a.createElement(l,{key:e.id,user:e})})))},P=a(22),k=a(19),C=a(21),S=(a(38),function(e){function t(){return Object(s.a)(this,t),Object(P.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"right_item"},r.a.createElement("div",{className:"row_header"},r.a.createElement("nav",{className:"bold_font"},e.author),r.a.createElement("nav",null,e.title)),r.a.createElement("div",null,e.description))}}]),t}(n.Component)),N=(a(39),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(P.a)(this,Object(k.a)(t).call(this,e))).state={descriptions:[],loading:!0},a}return Object(C.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.then((function(t){e.setState({descriptions:t.reverse(),loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.descriptions,a=e.loading;return r.a.createElement("div",{className:"container_item-right"},r.a.createElement("div",{className:"right_item-main",id:"description"},a&&r.a.createElement(j.a,{animation:"border",variant:"primary"}),t.map((function(e,t){return r.a.createElement(S,{key:t,item:e})}))),r.a.createElement("footer",null))}}]),t}(n.Component)),_=(a(40),function(){return r.a.createElement("div",{className:"container_1"},r.a.createElement(w,null),r.a.createElement(N,null))}),D=(a(41),a(55)),I=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"set",value:function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){throw new Error(n.message)}}},{key:"get",value:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)||null}catch(a){throw new Error(a.message)}}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(t){throw new Error(t.message)}}}]),e}(),G=function(e){var t=e.changeState,a=e.tab;return r.a.createElement("header",{className:"main"},r.a.createElement("div",null,"homePage"===a?r.a.createElement("p",{className:"main_1"},r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("loginPage")}},"Log in"),r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("registrationPage")}},"Register")):"loginPage"===a?r.a.createElement("p",{className:"main_1"},r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("homePage")}},"Home"),r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("registrationPage")}},"Register")):"registrationPage"===a?r.a.createElement("p",{className:"main_1"},r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("homePage")}},"Home"),r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("loginPage")}},"Log in")):"workspacePage"===a?r.a.createElement("p",{className:"main_1"},r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){return t("homePage")}},"Home"),r.a.createElement(D.a,{variant:"outline-primary",onClick:function(){t("homePage"),I.remove("user")}},"Log out")):null))},L=a(8),H=(a(42),a(54));function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T=function(e){var t=e.changeState,a={email:"",password:""},o=Object(n.useState)(a),c=Object(i.a)(o,2),l=c[0],s=c[1],u=function(e){var t=e.target,a=t.name,n=t.value;s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,Object(L.a)({},a,n)))};return r.a.createElement("div",{className:"container_log"},r.a.createElement("div",{className:"border_reg"},r.a.createElement(H.a,{onClick:function(e){return e.preventDefault()}},r.a.createElement(H.a.Group,{controlId:"formGroupEmail"},r.a.createElement(H.a.Label,null,"Email address"),r.a.createElement(H.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:u})),r.a.createElement(H.a.Group,{controlId:"formGroupPassword"},r.a.createElement(H.a.Label,null,"Password"),r.a.createElement(H.a.Control,{type:"password",name:"password",placeholder:" Enter password",onChange:u})),r.a.createElement(D.a,{variant:"primary",type:"submit",size:"lg",block:!0,onClick:function(){l.email&&l.password&&h(l).then((function(e){if(200===e.status)return s(a),e.json()})).then((function(e){var a={token:e.id,id:e.userId};I.set("user",a),t("workspacePage")})).catch((function(e){throw new Error(e)}))}},"Log In"))))},B=(a(47),function(e){var t=e.changeInputValue,a=e.handleSubmitData,n=e.data;return r.a.createElement(H.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(H.a.Group,{controlId:"formGroupText"},r.a.createElement(H.a.Label,null,"Username"),r.a.createElement(H.a.Control,{value:n.username,type:"text",name:"username",style:{margin:0,padding:0},placeholder:"Enter username",onChange:t})),r.a.createElement(H.a.Group,{controlId:"formGroupText"},r.a.createElement(H.a.Label,null,"Lastname"),r.a.createElement(H.a.Control,{value:n.lastname,type:"text",name:"lastname",style:{margin:0,padding:0},placeholder:"Enter lastname",onChange:t})),r.a.createElement(H.a.Group,{controlId:"formGroupEmail"},r.a.createElement(H.a.Label,null,"Email address"),r.a.createElement(H.a.Control,{value:n.email,type:"email",name:"email",placeholder:"Enter email",onChange:t})),r.a.createElement(H.a.Group,{controlId:"formGroupPassword"},r.a.createElement(H.a.Label,null,"Password"),r.a.createElement(H.a.Control,{value:n.password,type:"password",name:"password",placeholder:" Enter password",onChange:t})),r.a.createElement(H.a.Check,{custom:!0,inline:!0,id:"custom-inline-radio-1",label:"Male",name:"formHorizontalRadios",type:"radio"}),r.a.createElement(H.a.Check,{custom:!0,inline:!0,id:"custom-inline-radio-2",label:"Female",name:"formHorizontalRadios",type:"radio"}),r.a.createElement(H.a.Group,{id:"formGridCheckbox"},r.a.createElement(H.a.Check,{custom:!0,id:"custom-checkbox",type:"checkbox",label:"Send me email"})),r.a.createElement(D.a,{variant:"primary",type:"submit",size:"lg",block:!0,onClick:a},"Submit"))});function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var z=function(){var e={username:"",lastname:"",email:"",password:""},t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],c=a[1];return r.a.createElement("div",{className:"container_register"},r.a.createElement("div",{className:"border_reg"},r.a.createElement(B,{data:o,handleSubmitData:function(){E(o).then((function(t){return c(e)}))},changeInputValue:function(e){var t=e.target,a=t.name,n=t.value;c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o,Object(L.a)({},a,n)))}})))},R=(a(48),function(e){var t=e.handleShow,a=e.name;return r.a.createElement("section",{className:"header_2"},r.a.createElement("nav",{className:"left_section"},r.a.createElement("div",{className:"image"}),r.a.createElement("label",{className:"after_image"},a)),r.a.createElement("nav",{className:"right_section"},r.a.createElement(D.a,{variant:"primary",onClick:t},"Create new Post")))}),F=function(e){var t=e.post;return r.a.createElement("div",{className:"right_item"},r.a.createElement("div",{className:"row_header"},r.a.createElement("nav",{className:"bold_font"},t.author),r.a.createElement("nav",null,t.title)),r.a.createElement("div",null,t.description))},U=a(53);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){var t=e.handleClose,a=e.show,o=e.userName,c=I.get("user"),l={author:o,description:"",title:"",personId:c.id},s=Object(n.useState)(l),u=Object(i.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){p(V({},m,{author:o}))}),[o]);var f=function(e){var t=e.target,a=t.name,n=t.value;p(V({},m,Object(L.a)({},a,n)))};return r.a.createElement(U.a,{show:a,onHide:t},r.a.createElement(U.a.Header,{closeButton:!0,bg:"info"},r.a.createElement(U.a.Title,null,"Create new post")),r.a.createElement(U.a.Body,null,r.a.createElement(H.a.Group,{controlId:"formGroupEmail"},r.a.createElement(H.a.Label,null,"Title"),r.a.createElement(H.a.Control,{type:"text",name:"title",placeholder:"title",onChange:f})),r.a.createElement(H.a.Group,{controlId:"formGroupPassword"},r.a.createElement(H.a.Label,null,"Description"),r.a.createElement(H.a.Control,{type:"text",name:"description",placeholder:"description",onChange:f}))),r.a.createElement(U.a.Footer,null,r.a.createElement(D.a,{variant:"primary",size:"lg",block:!0,onClick:function(){O(m),t()}},"Create")))};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=function(){var e=Object(n.useState)({show:!1,posts:[],loading:!0}),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],m=a.show,p=a.posts,f=a.loading,d=function(){return o($({},a,{show:!m}))},b=I.get("user");return Object(n.useEffect)((function(){return v(b.id).then((function(e){return e.json()})).then((function(e){return u("".concat(e.userName," ").concat(e.lastName))})),y(b.id).then((function(e){return e.json()})).then((function(e){o($({},a,{posts:e.reverse(),loading:!1}))})),function(){I.remove("user")}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement(R,{name:s,handleShow:d}),r.a.createElement("div",{className:"right_item-main",id:"description"},f&&r.a.createElement(j.a,{animation:"border",variant:"primary"}),p.map((function(e){return r.a.createElement(F,{key:e.id,post:e})}))),r.a.createElement(W,{handleClose:d,show:m,userName:s})))};a(49);var K=function(){var e=Object(n.useState)("homePage"),t=Object(i.a)(e,2),a=t[0],o=t[1],c=function(e){o(e)};return r.a.createElement("div",{className:"App"},r.a.createElement(G,{changeState:c,tab:a}),"homePage"===a?r.a.createElement(_,null):"loginPage"===a?r.a.createElement(T,{changeState:c,tab:a}):"registrationPage"===a?r.a.createElement(z,null):"workspacePage"===a?r.a.createElement(q,null):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.4586d9c6.chunk.js.map